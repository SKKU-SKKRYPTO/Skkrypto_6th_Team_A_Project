{"ast":null,"code":"import _slicedToArray from \"/Users/kimdoheon/IdeaProjects/skku/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/kimdoheon/IdeaProjects/skku/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/kimdoheon/IdeaProjects/skku/frontend/src/Routes/SignUp/SignUpContainer.js\";\n\nfunction _templateObject3() {\n  const data = _taggedTemplateLiteral([\"\\n    font-size: 25px;\\n    \\n\"]);\n\n  _templateObject3 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\\n    color: red;\\n    opacity: 0.7;\\n\"]);\n\n  _templateObject2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n    display: flex;\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from \"react\";\nimport SignUpPresenter from \"./SignUpPresenter\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { cav } from \"Caver/caver\";\nimport { signatureData } from \"caver-js/packages/caver-wallet/src/keyring/keyringFactory\";\nimport \"antd/dist/antd.css\";\nimport { Modal } from \"antd\";\nconst Container = styled.div(_templateObject());\nconst Error = styled.div(_templateObject2());\nconst Priv = styled.div(_templateObject3());\n\nconst SignUpContainer = () => {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        name = _useState2[0],\n        setName = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        email = _useState4[0],\n        setEmail = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        password = _useState6[0],\n        setPassword = _useState6[1];\n\n  const _useState7 = useState(\"\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        confirm = _useState8[0],\n        setCofirm = _useState8[1];\n\n  const _useState9 = useState(null),\n        _useState10 = _slicedToArray(_useState9, 2),\n        key = _useState10[0],\n        setKeyring = _useState10[1];\n\n  const _useState11 = useState(\"\"),\n        _useState12 = _slicedToArray(_useState11, 2),\n        privKey = _useState12[0],\n        setPriv = _useState12[1];\n\n  const _useState13 = useState(false),\n        _useState14 = _slicedToArray(_useState13, 2),\n        visible = _useState14[0],\n        setVisible = _useState14[1];\n\n  const history = useHistory();\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const SignData = {\n      name,\n      email,\n      password,\n      key\n    };\n\n    try {\n      const res = await axios.post(\"/sign-up\", SignData);\n      setVisible(true);\n    } catch (e) {\n      console.log(e);\n      alert(\"회원가입 실패!\");\n    }\n  };\n\n  const getKeyring = async () => {\n    const keyring = await cav.wallet.keyring.generate();\n    setKeyring(keyring.address);\n    setPriv(keyring.key.privateKey);\n  };\n\n  const doesPasswordMatch = () => {\n    return password === confirm;\n  };\n\n  const renderFeedbackMessage = () => {\n    if (confirm) {\n      if (!doesPasswordMatch()) {\n        return React.createElement(Error, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, \"\\uD328\\uC2A4\\uC6CC\\uB4DC\\uAC00 \\uC77C\\uCE58\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\");\n      }\n    }\n  };\n\n  const handleName = e => {\n    setName(e.target.value);\n  };\n\n  const handleEmail = e => {\n    setEmail(e.target.value);\n  };\n\n  const handlePassword = e => {\n    setPassword(e.target.value);\n  };\n\n  const handleConfirmPassword = e => {\n    setCofirm(e.target.value);\n  };\n\n  const handleOk = () => {\n    setVisible(false);\n    history.push(\"/\");\n  };\n\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(SignUpPresenter, {\n    name: name,\n    email: email,\n    password: password,\n    cofirm: confirm,\n    handleName: handleName,\n    handleEmail: handleEmail,\n    handlePassword: handlePassword,\n    handleConfirmPassword: handleConfirmPassword,\n    handleSubmit: handleSubmit,\n    renderFeedbackMessage: renderFeedbackMessage,\n    doesPasswordMatch: doesPasswordMatch,\n    getKeyring: getKeyring,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }), React.createElement(Modal, {\n    title: \"\\uC800\\uC7A5 \\uC131\\uACF5!\",\n    visible: visible,\n    onOk: handleOk,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(Priv, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"\\uADC0\\uD558\\uC758 \\uAC1C\\uC778\\uD0A4\\uB294\", privKey, \" \\uC785\\uB2C8\\uB2E4.\")));\n};\n\nexport default SignUpContainer;","map":{"version":3,"sources":["/Users/kimdoheon/IdeaProjects/skku/frontend/src/Routes/SignUp/SignUpContainer.js"],"names":["React","useState","SignUpPresenter","axios","useHistory","styled","cav","signatureData","Modal","Container","div","Error","Priv","SignUpContainer","name","setName","email","setEmail","password","setPassword","confirm","setCofirm","key","setKeyring","privKey","setPriv","visible","setVisible","history","handleSubmit","e","preventDefault","SignData","res","post","console","log","alert","getKeyring","keyring","wallet","generate","address","privateKey","doesPasswordMatch","renderFeedbackMessage","handleName","target","value","handleEmail","handlePassword","handleConfirmPassword","handleOk","push"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport SignUpPresenter from \"./SignUpPresenter\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { cav } from \"Caver/caver\";\nimport { signatureData } from \"caver-js/packages/caver-wallet/src/keyring/keyringFactory\";\nimport \"antd/dist/antd.css\";\nimport { Modal } from \"antd\";\nconst Container = styled.div`\n    display: flex;\n`;\n\nconst Error = styled.div`\n    color: red;\n    opacity: 0.7;\n`;\n\nconst Priv = styled.div`\n    font-size: 25px;\n    \n`;\n\nconst SignUpContainer = () => {\n    const [name, setName] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [confirm, setCofirm] = useState(\"\");\n    const [key, setKeyring] = useState(null);\n    const [privKey, setPriv] = useState(\"\");\n    const [visible, setVisible] = useState(false);\n    const history = useHistory();\n    \n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const SignData = { name, email, password, key };\n        try {\n            const res = await axios.post(\"/sign-up\", SignData);\n            setVisible(true);\n        } catch (e) {\n            console.log(e);\n            alert(\"회원가입 실패!\");\n        }\n    };\n\n    const getKeyring = async () => {\n        const keyring = await cav.wallet.keyring.generate();\n        setKeyring(keyring.address);\n        setPriv(keyring.key.privateKey);\n    };\n    const doesPasswordMatch = () => {\n        return password === confirm;\n    };\n    const renderFeedbackMessage = () => {\n        if (confirm) {\n            if (!doesPasswordMatch()) {\n                return <Error>패스워드가 일치하지 않습니다.</Error>;\n            }\n        }\n    };\n    const handleName = (e) => {\n        setName(e.target.value);\n    };\n    const handleEmail = (e) => {\n        setEmail(e.target.value);\n    };\n\n    const handlePassword = (e) => {\n        setPassword(e.target.value);\n    };\n\n    const handleConfirmPassword = (e) => {\n        setCofirm(e.target.value);\n    };\n\n    const handleOk = () => {\n        setVisible(false);\n        history.push(\"/\");\n    };\n\n    return (\n        <Container>\n            <SignUpPresenter\n                name={name}\n                email={email}\n                password={password}\n                cofirm={confirm}\n                handleName={handleName}\n                handleEmail={handleEmail}\n                handlePassword={handlePassword}\n                handleConfirmPassword={handleConfirmPassword}\n                handleSubmit={handleSubmit}\n                renderFeedbackMessage={renderFeedbackMessage}\n                doesPasswordMatch={doesPasswordMatch}\n                getKeyring={getKeyring}\n            ></SignUpPresenter>\n            <Modal title=\"저장 성공!\" visible={visible} onOk={handleOk}>\n                <Priv>귀하의 개인키는{privKey} 입니다.</Priv>\n            </Modal>\n        </Container>\n    );\n};\n\nexport default SignUpContainer;\n"]},"metadata":{},"sourceType":"module"}