{"ast":null,"code":"const pull = require('pull-stream/pull');\n\nmodule.exports = source => {\n  return async function* () {\n    let _read;\n\n    const sink = read => {\n      _read = () => new Promise((resolve, reject) => {\n        read(null, (end, data) => {\n          if (end === true) return resolve({\n            end\n          });\n          if (end) return reject(end);\n          resolve({\n            data\n          });\n        });\n      });\n    };\n\n    pull(source, sink);\n\n    while (true) {\n      const _ref = await _read(),\n            end = _ref.end,\n            data = _ref.data;\n\n      if (end) break;\n      yield data;\n    }\n  }();\n};","map":null,"metadata":{},"sourceType":"script"}