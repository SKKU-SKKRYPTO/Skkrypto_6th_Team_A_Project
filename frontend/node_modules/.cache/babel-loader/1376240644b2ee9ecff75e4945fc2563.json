{"ast":null,"code":"'use strict';\n/* eslint-env browser */\n\nconst toAsyncIterable = require('../../lib/file-data-to-async-iterable');\n\nexports.toFormData = async (path, input) => {\n  input = toAsyncIterable(input);\n  const formData = new FormData(); // In the browser there's _currently_ no streaming upload, buffer up our\n  // async iterator chunks and append a big Blob :(\n  // One day, this will be browser streams\n\n  const bufs = [];\n\n  for await (const chunk of input) {\n    bufs.push(Buffer.isBuffer(chunk) ? chunk.buffer : chunk);\n  }\n\n  formData.append('file', new Blob(bufs, {\n    type: 'application/octet-stream'\n  }));\n  return formData;\n};","map":null,"metadata":{},"sourceType":"script"}