{"ast":null,"code":"'use strict';\n/* eslint-env browser */\n// Convert a Blob into an AsyncIterable<ArrayBuffer>\n\nmodule.exports = (blob, options) => async function* () {\n  options = options || {};\n  const reader = new FileReader();\n  const chunkSize = options.chunkSize || 1024 * 1024;\n  let offset = options.offset || 0;\n\n  const getNextChunk = () => new Promise((resolve, reject) => {\n    reader.onloadend = e => {\n      const data = e.target.result;\n      resolve(data.byteLength === 0 ? null : data);\n    };\n\n    reader.onerror = reject;\n    const end = offset + chunkSize;\n    const slice = blob.slice(offset, end);\n    reader.readAsArrayBuffer(slice);\n    offset = end;\n  });\n\n  while (true) {\n    const data = await getNextChunk();\n    if (data == null) return;\n    yield data;\n  }\n}();","map":null,"metadata":{},"sourceType":"script"}