{"ast":null,"code":"'use strict';\n/* eslint-env browser */\n// Set default configuration and call create function with them\n\nmodule.exports = create => config => {\n  config = config || {};\n  if (typeof config === 'string') config = {\n    apiUrl: config\n  };\n  config.fetch = config.fetch || require('./fetch').fetch;\n  config.apiUrl = config.apiUrl || getDefaultApiUrl();\n  config.apiPath = config.apiPath || '/api/v0';\n  config.headers = new Headers(config.headers);\n  return create(config);\n};\n\nfunction getDefaultApiUrl() {\n  const proto = location.protocol.startsWith('http') ? location.protocol.split(':')[0] : 'http';\n  const host = location.hostname;\n  const port = location.port || (proto.startsWith('https') ? 443 : 80);\n  return \"\".concat(proto, \"://\").concat(host, \":\").concat(port);\n}","map":null,"metadata":{},"sourceType":"script"}